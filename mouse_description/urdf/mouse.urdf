<robot name="mouse">

	<gazebo>
        <plugin name="gazebo_ros_control" filename="libgazebo_ros_control.so">
            <robotNamespace>/mouse</robotNamespace>
			<legacyModeNS>true</legacyModeNS>
        </plugin>
    </gazebo>

	<gazebo>
        <plugin name="p3d_base_controller" filename="libgazebo_ros_p3d.so">
            <robotNamespace>/mouse</robotNamespace>
            <alwaysOn>true</alwaysOn>
            <updateRate>50.0</updateRate>
            <bodyName>base_link</bodyName>
            <topicName>odom</topicName>
            <gaussianNoise>0.01</gaussianNoise>
            <frameName>world</frameName>
            <xyzOffsets>0 0 0</xyzOffsets>
            <rpyOffsets>0 0 0</rpyOffsets>
        </plugin>
    </gazebo>

    <link name="base_link">
        <inertial>
            <origin xyz="0 0 0" rpy="0 0 0"/>
            <mass value="0.5" />
            <inertia ixx="0.0" ixy="0.0" ixz="0.0" iyy="0.0" iyz="0.0" izz="0.0"/>
        </inertial>
        <collision>
            <origin rpy="0 0 0" xyz="0 0 0.125"/>
            <geometry>
                <box size="0.7 0.5 0.3"/>
            </geometry>
        </collision>
	    <visual>
	      <geometry>
				<mesh filename="package://mouse_description/meshes/mouse.DAE"/>
	      </geometry>
	    </visual>
    </link>	

	<link name="right_front_wheel">
      <visual>
        <origin rpy="1.57075 0 0" xyz="0 0 0"/>
        <geometry>
          <cylinder length="0.05" radius="0.035"/>
        </geometry>
        <material name="black"/>
        <origin rpy="0 0 0" xyz="0 0 0"/>
      </visual>
	  <collision>
	    <origin rpy="1.57075 0 0" xyz="0 0 0"/>
	    <geometry>
	      <cylinder length="0.05" radius="0.035"/>
	    </geometry>
      </collision>
      <inertial>
	    <mass value="1"/>
	    <inertia ixx="1.0" ixy="0.0" ixz="0.0" iyy="1.0" iyz="0.0" izz="1.0"/>
	  </inertial>
    </link>
    <joint name="right_front_wheel_joint" type="continuous">
      <parent link="base_link"/>
      <child link="right_front_wheel"/>
      <origin rpy="0 0 0" xyz="0.133333333333 -0.1 -0.055"/>
	  <axis rpy="0 0 0" xyz="0 1 0"/>
    </joint>

	<gazebo reference="right_front_wheel_joint">
	  <mu1 value="200.0"/>
	  <mu2 value="100.0"/>
	  <kp value="10000000.0" />
	  <kd value="1.0" />
	  <material>Gazebo/TurquoiseGlow</material>
	</gazebo>
	<transmission name="right_front_wheel_trans">
	  <type>transmission_interface/SimpleTransmission</type>
	  <actuator name="right_front_wheel_motor">
		  <mechanicalReduction>1</mechanicalReduction>
		  <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
	  </actuator>
	  <joint name="right_front_wheel_joint">
		<hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
	  </joint>
	</transmission>

    <link name="right_back_wheel">
      <visual>
        <origin rpy="1.57075 0 0" xyz="0 0 0"/>
        <geometry>
          <cylinder length="0.05" radius="0.035"/>
        </geometry>
        <material name="black"/>
      </visual>
	  <collision>
	    <origin rpy="1.57075 0 0" xyz="0 0 0"/>
	    <geometry>
	      <cylinder length="0.05" radius="0.035"/>
	    </geometry>
      </collision>
      <inertial>
	    <mass value="1"/>
	    <inertia ixx="1.0" ixy="0.0" ixz="0.0" iyy="1.0" iyz="0.0" izz="1.0"/>
	  </inertial>
    </link>
    <joint name="right_back_wheel_joint" type="continuous">
      <parent link="base_link"/>
      <child link="right_back_wheel"/>
      <origin rpy="0 0 0" xyz="-0.133333333333 -0.1 -0.055"/>
	  <axis rpy="0 0 0" xyz="0 1 0"/>
	  <mimic joint="right_front_wheel_joint"/>
    </joint>

	<gazebo reference="right_back_wheel_joint">
	  <mu1 value="200.0"/>
	  <mu2 value="100.0"/>
	  <kp value="10000000.0" />
	  <kd value="1.0" />
	  <material>Gazebo/TurquoiseGlow</material>
	</gazebo>
	<transmission name="right_back_wheel_trans">
	  <type>transmission_interface/SimpleTransmission</type>
	  <actuator name="right_back_wheel_motor">
		<mechanicalReduction>1</mechanicalReduction>
		<hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
	  </actuator>
	  <joint name="right_back_wheel_joint">
		<hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
	  </joint>
	</transmission>

	<link name="left_front_wheel">
	  <visual>
		<origin rpy="1.57075 0 0" xyz="0 0 0"/>
		<geometry>
		  <cylinder length="0.05" radius="0.035"/>
		</geometry>
		<material name="black"/>
	  </visual>
	  <collision>
	    <origin rpy="1.57075 0 0" xyz="0 0 0"/>
	    <geometry>
	      <cylinder length="0.05" radius="0.035"/>
	    </geometry>
      </collision>
      <inertial>
	    <mass value="1"/>
	    <inertia ixx="1.0" ixy="0.0" ixz="0.0" iyy="1.0" iyz="0.0" izz="1.0"/>
	  </inertial>
	</link>
	<joint name="left_front_wheel_joint" type="continuous">
	  <parent link="base_link"/>
	  <child link="left_front_wheel"/>
	  <origin rpy="0 0 0" xyz="0.133333333333 0.1 -0.055"/>
	  <axis rpy="0 0 0" xyz="0 1 0"/>
	</joint>

	<gazebo reference="left_front_wheel_joint">
	  <mu1 value="200.0"/>
	  <mu2 value="100.0"/>
	  <kp value="10000000.0" />
	  <kd value="1.0" />
	  <material>Gazebo/TurquoiseGlow</material>
	</gazebo>
	<transmission name="left_front_wheel_trans">
	  <type>transmission_interface/SimpleTransmission</type>
	  <actuator name="left_front_wheel_motor">
		<mechanicalReduction>1</mechanicalReduction>
		<hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
	  </actuator>
	  <joint name="left_front_wheel_joint">
		<hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
	  </joint>
	</transmission>



	<link name="left_back_wheel">
	  <visual>
		<origin rpy="1.57075 0 0" xyz="0 0 0"/>
		<geometry>
		  <cylinder length="0.05" radius="0.035"/>
		</geometry>
		<material name="black"/>
	  </visual>
	  <collision>
	    <origin rpy="1.57075 0 0" xyz="0 0 0"/>
	    <geometry>
	      <cylinder length="0.05" radius="0.035"/>
	    </geometry>
      </collision>
      <inertial>
	    <mass value="1"/>
	    <inertia ixx="1.0" ixy="0.0" ixz="0.0" iyy="1.0" iyz="0.0" izz="1.0"/>
	  </inertial>
	</link>
	<joint name="left_back_wheel_joint" type="continuous">
	  <parent link="base_link"/>
	  <child link="left_back_wheel"/>
	  <origin rpy="0 0 0" xyz="-0.133333333333 0.1 -0.055"/>
	  <axis rpy="0 0 0" xyz="0 1 0"/>
	  <mimic joint="left_front_wheel_joint"/>
	</joint>

	<gazebo reference="left_back_wheel_joint">
      <mu1 value="200.0"/>
      <mu2 value="100.0"/>
      <kp value="10000000.0" />
      <kd value="1.0" />
      <material>Gazebo/TurquoiseGlow</material>
    </gazebo>
	<transmission name="left_back_wheel_trans">
      <type>transmission_interface/SimpleTransmission</type>
      <actuator name="left_back_wheel_motor">
        <mechanicalReduction>1</mechanicalReduction>
		<hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
      </actuator>
      <joint name="left_back_wheel_joint">
        <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
      </joint>
    </transmission>

    <gazebo reference="base_link">
        <kp>1000000.0</kp>
        <kd>1000000.0</kd>
        <mu1>1000000.0</mu1>
        <mu2>1000000.0</mu2>
        <material>Gazebo/PurpleGlow</material>
    </gazebo>
</robot>
